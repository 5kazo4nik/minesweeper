(()=>{"use strict";var t={91:t=>{t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),e.hash&&(t+=e.hash),e.maybeNeedQuotes&&/[\t\n\f\r "'=<>`]/.test(t)?'"'.concat(t,'"'):t):t}},395:(t,e,n)=>{t.exports=n.p+"./assets/svg/409bomb_100833.7634573a600035882b41..svg"}},e={};function n(s){var i=e[s];if(void 0!==i)return i.exports;var o=e[s]={exports:{}};return t[s](o,o.exports,n),o.exports}n.m=t,n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var s in e)n.o(e,s)&&!n.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var s=e.getElementsByTagName("script");if(s.length)for(var i=s.length-1;i>-1&&!t;)t=s[i--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t+"../"})(),n.b=document.baseURI||self.location.href,(()=>{var t=n(91),e=n.n(t),s=new URL(n(395),n.b);e()(s);function i(t){for(var e,n=document.createElement(t),s=arguments.length,i=new Array(s>1?s-1:0),o=1;o<s;o++)i[o-1]=arguments[o];return(e=n.classList).add.apply(e,i),n}function o(t,e){"string"==typeof e?t.textContent=e:t.append(e)}function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function a(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,(i=s.key,o=void 0,o=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var s=n.call(t,e||"default");if("object"!==r(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===r(o)?o:String(o)),s)}var i,o}var l=function(){function t(e,n,s,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.isWin=e,this.isLose=n,this.seconds=s,this.clicks=i}var e,n,s;return e=t,(n=[{key:"build",value:function(){return this._createElements(),this._insertNodes(),this.modal}},{key:"_createElements",value:function(){this.modal=i("div","modal"),this.window=i("div","modal__window"),this.heading=i("h3","modal__heading"),this.text=i("p","modal__text"),this.img=i("div","modal__img"),this.isLose&&this.img.classList.add("modal__img_lose"),this.isWin&&this.img.classList.add("modal__img_win")}},{key:"_insertNodes",value:function(){this.isWin&&(this.heading.textContent="Hooray!",this.text.textContent="You found all mines in ".concat(this.seconds," seconds and ").concat(this.clicks," moves!")),this.isLose&&(this.heading.textContent="Game over...",this.text.textContent="You make mistake in ".concat(this.seconds," seconds and ").concat(this.clicks," moves...")),o(this.window,this.heading),o(this.window,this.text),o(this.window,this.img),o(this.modal,this.window)}}])&&a(e.prototype,n),s&&a(e,s),Object.defineProperty(e,"prototype",{writable:!1}),t}();function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,n=new Audio;n.src=t,n.volume=e,n.play()}function u(t,e,n,s,r,a){arguments.length>6&&void 0!==arguments[6]&&arguments[6]&&t.unshift("Steps: ".concat(e,". Time: ").concat(n," seconds. Flags: ").concat(s-r,". Field: ").concat(a,"x").concat(a,". Mines: ").concat(s)),t.length>10&&t.pop(),function(t){for(var e=i("div","game__result"),n=i("div","result"),s=i("h2","result__heading"),r=i("ol","result__list"),a=document.querySelector(".game"),l=document.querySelector(".game__result"),c=0;c<t.length;c++){o(r,i("li","result__item"))}o(s,"Score"),o(n,s),o(n,r),o(e,n),l?l.replaceWith(e):o(a,e)}(t);var l=document.querySelector(".cell"),c=Array.from(document.querySelectorAll(".result__item")),u=getComputedStyle(l),d=document.querySelector(".result"),h=u.width;d.style.width="".concat(h.slice(0,h.length-2)*a+6*a+8,"px"),t.forEach((function(t,e){c[e].textContent=t}))}function d(t){var e=Number(localStorage.getItem("theme"))||0,n=["","_winter","_spring","_summer","_dark"];t&&(e=(e+=1)>4?0:e);var s=document.querySelector(".bg-gif"),i=document.querySelector(".game"),o=document.querySelector(".head__opt"),r=document.querySelector(".head__theme"),a=document.querySelector(".count"),l=document.querySelector(".btn-restart"),c=document.querySelector(".field"),u=document.querySelectorAll(".cell"),d=document.querySelector(".result"),h=document.querySelectorAll(".result__item"),m=document.querySelector(".modal__window");e>0&&(s.classList.add("bg-gif".concat(n[e])),i.classList.add("game".concat(n[e])),o.classList.add("head__opt".concat(n[e])),r.classList.add("head__theme".concat(n[e])),a.classList.add("count".concat(n[e])),l.classList.add("btn-restart".concat(n[e])),c.classList.add("field".concat(n[e])),u.forEach((function(t){return t.classList.add("cell".concat(n[e]))})),d&&d.classList.add("result".concat(n[e])),d&&h.forEach((function(t){return t.classList.add("result__item".concat(n[e]))})),m&&m.classList.add("modal__window".concat(n[e]))),n.forEach((function(t,n){0!==n&&n!==e&&(s.classList.remove("bg-gif".concat(t)),i.classList.remove("game".concat(t)),o.classList.remove("head__opt".concat(t)),r.classList.remove("head__theme".concat(t)),a.classList.remove("count".concat(t)),l.classList.remove("btn-restart".concat(t)),c.classList.remove("field".concat(t)),u.forEach((function(e){return e.classList.remove("cell".concat(t))})),d&&d.classList.remove("result".concat(t)),d&&h.forEach((function(e){return e.classList.remove("result__item".concat(t))})),m&&m.classList.remove("modal__window".concat(t)))})),localStorage.setItem("theme",e)}const h=n.p+"./assets/sound/Взрыв.5e6e1c9b2554adde2873..mp3",m=n.p+"./assets/sound/Клик.6c4475b0df616f99bc31..mp3",f=n.p+"./assets/sound/Победа.7d2c81783f98d3243d8f..mp3",v=n.p+"./assets/sound/Поражение.9ef9b712c5af15d175db..mp3",g=n.p+"./assets/sound/Флажок.0b3e6a1d25558aa24008..mp3";function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function _(t){return function(t){if(Array.isArray(t))return y(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,s=new Array(e);n<e;n++)s[n]=t[n];return s}function b(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,(i=s.key,o=void 0,o=function(t,e){if("object"!==p(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var s=n.call(t,e||"default");if("object"!==p(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===p(o)?o:String(o)),s)}var i,o}var S,C,L,w,k=function(){function t(e,n,s){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.numCells=e,this.mines=n,this.isChange=s,this.save=i}var e,n,s;return e=t,(n=[{key:"build",value:function(){return this.save||(T=!1,x=null),this._createElements(),this._appendELements(),this._updateFlags(),this._bindEvents(),this.gameContent}},{key:"_createCells",value:function(){if(x)return x;for(var t=i("div","game__field","field"),e=0;e<this.numCells;e++){for(var n=i("div","field__row"),s=0;s<this.numCells;s++){var r=i("div","field__cell","cell");r.dataset.x=s,r.dataset.y=e,10!==this.numCells&&15!==this.numCells||(r.style.width="20px",r.style.height="20px",r.style.fontSize="18px"),o(n,r)}o(t,n)}return x=t,t}},{key:"_createElements",value:function(){this.gameContent=i("div","game__content"),this.counters=i("div","count"),this.restartBtn=i("div","btn-restart"),this.countContent=i("div","count__content"),this.duration=i("div","count__duration"),this.flags=i("div","count__flags"),this.clicks=i("div","count__clicks"),this.field=this._createCells()}},{key:"_appendELements",value:function(){T?(o(this.duration,String(A).padStart(3,0)),o(this.flags,String(P).padStart(3,0)),o(this.clicks,String(j).padStart(3,0))):(o(this.duration,"000"),o(this.flags,String(this.mines).padStart(3,0)),o(this.clicks,"000")),o(this.countContent,this.duration),o(this.countContent,this.flags),o(this.countContent,this.clicks),o(this.counters,this.restartBtn),o(this.counters,this.countContent),o(this.gameContent,this.counters),o(this.gameContent,this.field)}},{key:"_updateFlags",value:function(){T||(q=!0,I=[],N=[],O=!1,M=!1,j=0,A=0,clearInterval(w),w=null,P=this.mines),T&&(w=this._setSecondsInterval())}},{key:"_bindEvents",value:function(){document.addEventListener("dragstart",(function(t){return t.preventDefault()})),document.addEventListener("mouseover",this._hoverOn),document.addEventListener("mousedown",this._clickDown),this.isChange&&document.removeEventListener("mouseup",L);var t=this._clickUp.bind(this);L=t,document.addEventListener("mouseup",t)}},{key:"_clickDown",value:function(t){E=!0,t.target.classList.contains("cell")&&t.target.classList.add("cell_active"),t.target.classList.contains("btn-restart")&&t.target.classList.add("btn-restart_active")}},{key:"_clickUp",value:function(t){E=!1,t.target.classList.contains("btn-restart")&&(x=null,T=!1,t.target.classList.remove("btn-restart_active"),this._createElements(),this._appendELements(),this._updateFlags(),document.querySelector(".game__content").replaceWith(this.gameContent),d(!1)),t.target.classList.contains("cell")&&(t.target.classList.remove("cell_active"),t.target.classList.contains("cell_open")||M||O||(this._setClicksCount(t),this._setOnClick(t)),(M||O)&&clearInterval(w),M&&localStorage.setItem("score",JSON.stringify(z)))}},{key:"_hoverOn",value:function(t){E&&t.target.classList.contains("cell")&&t.target.classList.add("cell_active"),E&&t.target.classList.contains("btn-restart")&&t.target.classList.add("btn-restart_active"),t.relatedTarget&&(t.relatedTarget.classList.remove("cell_active"),t.relatedTarget.classList.remove("btn-restart_active"))}},{key:"_setOnClick",value:function(t){var e=_(document.querySelector(".field").children),n=t.target.closest(".field__row"),s=e.indexOf(n),i=_(n.children).indexOf(t.target),o=document.querySelector(".head__sound");if(2===t.button){if(t.target.classList.contains("cell_flag"))P+=1;else{if(!(P>0))return;P-=1}return document.querySelector(".count__flags").textContent=String(P).padStart(3,0),t.target.classList.toggle("cell_flag"),void(o.classList.contains("head__sound_off")||c(g,.3))}if(q&&(2!==t.button&&I.push([Number(t.target.dataset.y),Number(t.target.dataset.x)]),w=this._setSecondsInterval(),this._setMines(e)),!t.target.classList.contains("cell_flag")){var r=this._setCellValue(e,t.target,s,i);if(0===r&&this._openNearCells(e,t.target,s,i),r>=0&&!o.classList.contains("head__sound_off")&&c(m,.4),I.length+N.length!==this.numCells*this.numCells||M||(o.classList.contains("head__sound_off")||c(f,.3),M=!0),M||O){var a=new l(M,O,A,j);document.body.prepend(a.build()),d(!1),x=null,T=!1}M&&this._setScore(),x=this.field}}},{key:"_setMines",value:function(t){q=!1;for(var e=0;e<this.mines;e++){for(var n=Math.floor(Math.random()*this.numCells),s=Math.floor(Math.random()*this.numCells),i=V(N,t[n].children[s]),o=V(I,t[n].children[s]),r=[];o||i;)n=Math.floor(Math.random()*this.numCells),s=Math.floor(Math.random()*this.numCells),i=V(N,t[n].children[s]),o=V(I,t[n].children[s]);r.push(n,s),N.push(r)}}},{key:"_setCellValue",value:function(t,e,n,s){var i=0,o=document.querySelector(".head__sound");if(!e.classList.contains("cell_flag")){if(e.classList.add("cell_open"),V(N,e))return e.style.backgroundColor="red",N.forEach((function(t){return document.querySelector('[data-x="'.concat(t[1],'"][data-y="').concat(t[0],'"]')).classList.add("cell_bomb")})),document.querySelector(".btn-restart").classList.add("btn-restart_lose"),O=!0,o.classList.contains("head__sound_off")||(c(h,.3),c(v,.3)),-1;var r=t[n].children[s-1],a=t[n].children[s+1];if(t[n-1]){var l=t[n-1].children[s-1],u=t[n-1].children[s+1],d=t[n-1].children[s];V(N,d)&&(i+=1),u&&V(N,u)&&(i+=1),l&&V(N,l)&&(i+=1)}if(t[n+1]){var m=t[n+1].children[s-1],f=t[n+1].children[s+1],g=t[n+1].children[s];V(N,g)&&(i+=1),m&&V(N,m)&&(i+=1),f&&V(N,f)&&(i+=1)}return r&&V(N,r)&&(i+=1),a&&V(N,a)&&(i+=1),e.dataset.col=i,i>0&&(e.textContent=i),V(I,e)||I.push([Number(e.dataset.y),Number(e.dataset.x)]),i}}},{key:"_openNearCells",value:function(t,e,n,s){var i=t[n].children[s-1],o=t[n].children[s+1];if(t[n-1]){var r=t[n-1].children[s-1],a=t[n-1].children[s+1],l=t[n-1].children[s];!l||V(N,l)||l.dataset.col||0!==this._setCellValue(t,l,n-1,s)||e.dataset.prev||(e.dataset.prev=!0,this._openNearCells(t,l,n-1,s)),!a||V(N,a)||a.dataset.col||0===this._setCellValue(t,a,n-1,s+1)&&this._openNearCells(t,a,n-1,s+1),!r||V(N,r)||r.dataset.col||0===this._setCellValue(t,r,n-1,s-1)&&this._openNearCells(t,r,n-1,s-1)}if(t[n+1]){var c=t[n+1].children[s-1],u=t[n+1].children[s+1],d=t[n+1].children[s];!d||V(N,d)||d.dataset.col||0!==this._setCellValue(t,d,n+1,s)||e.dataset.prev||(e.dataset.prev=!0,this._openNearCells(t,d,n+1,s)),!u||V(N,u)||u.dataset.col||0===this._setCellValue(t,u,n+1,s+1)&&this._openNearCells(t,u,n+1,s+1),!c||V(N,c)||c.dataset.col||0===this._setCellValue(t,c,n+1,s-1)&&this._openNearCells(t,c,n+1,s-1)}!o||V(N,o)||o.dataset.col||0===this._setCellValue(t,o,n,s+1)&&this._openNearCells(t,o,n,s+1),!i||V(N,i)||i.dataset.col||0===this._setCellValue(t,i,n,s-1)&&this._openNearCells(t,i,n,s-1)}},{key:"_setClicksCount",value:function(t){if(!t.target.className.match(/(open|flag)/)&&2!==t.button){j+=1;var e=String(j).padStart(3,0);this.clicks.textContent=e}}},{key:"_setSecondsInterval",value:function(){var t=this;return setInterval((function(){A+=1;var e=String(A).padStart(3,0);t.duration.textContent=e}),1e3)}},{key:"_setScore",value:function(){u(z,j,A,this.mines,P,this.numCells,M),d(!1)}}])&&b(e.prototype,n),s&&b(e,s),Object.defineProperty(e,"prototype",{writable:!1}),t}(),E=!1,I=JSON.parse(localStorage.getItem("checkedArr"))||[],N=JSON.parse(localStorage.getItem("minesCoords"))||[],x=(S=localStorage.getItem("field"),(C=document.createElement("div")).innerHTML=S,C.firstChild||null),q="true"===localStorage.getItem("firstClick"),O="true"===localStorage.getItem("isLose"),M="true"===localStorage.getItem("isWin"),j=Number(localStorage.getItem("clicksCounter"))||0,A=Number(localStorage.getItem("secondsCounter"))||0,P=Number(localStorage.getItem("flags"))||0,T="true"===localStorage.getItem("isSaved"),z=JSON.parse(localStorage.getItem("score"))||[];function V(t,e){return t.find((function(t){return Number(t[0])===Number(e.dataset.y)&&Number(t[1])===Number(e.dataset.x)}))||!1}function W(t){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W(t)}function J(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,(i=s.key,o=void 0,o=function(t,e){if("object"!==W(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var s=n.call(t,e||"default");if("object"!==W(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===W(o)?o:String(o)),s)}var i,o}window.addEventListener("beforeunload",(function(){O||M||q?(T=!1,localStorage.removeItem("checkedArr"),localStorage.removeItem("minesCoords"),localStorage.removeItem("field"),localStorage.removeItem("firstClick",!1),localStorage.removeItem("clicksCounter",0),localStorage.removeItem("secondsCounter",0),localStorage.removeItem("flags",P),localStorage.removeItem("isWin",M),localStorage.removeItem("isLose",O),localStorage.setItem("isSaved",T)):(T=!0,localStorage.setItem("checkedArr",JSON.stringify(I)),localStorage.setItem("minesCoords",JSON.stringify(N)),function(t){t&&localStorage.setItem("field",t.outerHTML)}(x),localStorage.setItem("firstClick",q),localStorage.setItem("clicksCounter",j),localStorage.setItem("secondsCounter",A),localStorage.setItem("flags",P),localStorage.setItem("isWin",M),localStorage.setItem("isLose",O),localStorage.setItem("isSaved",T))}));var B=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.fieldSize=e,this.mines=n}var e,n,s;return e=t,(n=[{key:"build",value:function(){return this._createElements(),this._appendElements(),this._addAttr(),this.head}},{key:"_createElements",value:function(){document.body.classList.add("body","body"),this.head=i("div","game__head","head"),this.options=i("div","head__opt"),this.soundBtn=i("div","head__sound","head__sound_off"),this.inputs=i("div","head__inputs"),this.inputMines=i("input","head__mines"),this.select=i("select","head__size"),this.opt1=i("option"),this.opt2=i("option"),this.opt3=i("option"),this.themeBtn=i("div","head__theme")}},{key:"_appendElements",value:function(){o(this.opt1,"Easy"),o(this.opt2,"Medium"),o(this.opt3,"Hard"),o(this.select,this.opt1),o(this.select,this.opt2),o(this.select,this.opt3),o(this.inputs,this.inputMines),o(this.inputs,this.select),o(this.options,this.soundBtn),o(this.options,this.inputs),o(this.options,this.themeBtn),o(this.head,this.options)}},{key:"_addAttr",value:function(){this.opt1.value=10,this.opt2.value=15,this.opt3.value=25,10===Number(this.fieldSize)&&(this.opt1.selected=!0),15===Number(this.fieldSize)&&(this.opt2.selected=!0),25===Number(this.fieldSize)&&(this.opt3.selected=!0),this.inputMines.type="number",this.inputMines.placeholder="mines",this.inputMines.value=this.mines}}])&&J(e.prototype,n),s&&J(e,s),Object.defineProperty(e,"prototype",{writable:!1}),t}();const F=n.p+"./assets/sound/Вода.8d3c7ad651899b1a75e7..mp3",D=n.p+"./assets/sound/Костер.3b736da5cee2eaddca42..mp3",R=n.p+"./assets/sound/ветер.cbc66f1ee9aa38cf2c37..mp3",U=n.p+"./assets/sound/колокольчики.d25c81783260d13d2dd7..mp3",H=n.p+"./assets/sound/птицы.3515c56d69b23b579246..mp3";function $(t){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$(t)}function Y(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,(i=s.key,o=void 0,o=function(t,e){if("object"!==$(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var s=n.call(t,e||"default");if("object"!==$(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===$(o)?o:String(o)),s)}var i,o}var G=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,s;return e=t,n=[{key:"build",value:function(){this._createElements(),this._appendElements(),this._bindEvents(),d(!1),Q()}},{key:"_createElements",value:function(){this.bg=i("div","bg-gif"),this.main=i("main","wrapper"),this.game=i("div","game");var t=new k(tt,Z,X),e=new B(tt,Z);this.options=e.build(),this.field=t.build(),et.length>0&&(this.gameResult=i("div","game__result"),this.result=i("div","result"),this.heading=i("h2","result__heading"),this.list=i("ol","result__list"))}},{key:"_appendElements",value:function(){if(et.length>0){for(var t=0;t<et.length;t++){var e=i("li","result__item");o(this.list,e)}o(this.heading,"Score"),o(this.result,this.heading),o(this.result,this.list),o(this.gameResult,this.result)}o(this.game,this.options),o(this.game,this.field),et.length>0&&o(this.game,this.gameResult),o(this.main,this.game),o(document.body,this.bg),o(document.body,this.main),this._setScore()}},{key:"_bindEvents",value:function(){this.game.addEventListener("contextmenu",(function(t){return t.preventDefault()}));var t=document.querySelector(".head__size"),e=this._changeLevel.bind(this);t.addEventListener("input",(function(t){e(t),d(!1)}));var n=document.querySelector(".head__mines"),s=this._changeMines.bind(this);n.addEventListener("change",(function(t){s(t),d(!1)})),document.querySelector(".head__theme").addEventListener("click",(function(){d(!0),ot=Number(localStorage.getItem("theme"))||0,Q()})),document.querySelector(".head__sound").addEventListener("click",(function(t){t.target.classList.toggle("head__sound_off"),Q()})),K.addEventListener("ended",Q),document.addEventListener("click",(function(t){t.target.classList.contains("modal")&&t.target.remove()})),window.addEventListener("resize",(function(){var t=document.querySelector(".cell"),e=getComputedStyle(t),n=document.querySelector(".result"),s=e.width;n.style.width="".concat(s.slice(0,s.length-2)*tt+6*tt+8,"px")})),window.addEventListener("beforeunload",(function(){localStorage.setItem("mines",Z),localStorage.setItem("fieldSize",tt)}))}},{key:"_setScore",value:function(){var t=JSON.parse(localStorage.getItem("score"))||[];t.length&&u(t,nt,st,Z,it,tt)}},{key:"_changeLevel",value:function(t){X=!0;var e=document.querySelector(".head__mines");"10"===t.target.value&&(tt=10,Z=10,e.value=10),"15"===t.target.value&&(tt=15,Z=40,e.value=40),"25"===t.target.value&&(tt=25,Z=99,e.value=99);var n=new k(tt,Z,X,!1).build();document.querySelector(".game__content").replaceWith(n),X=!1,this._setScore()}},{key:"_changeMines",value:function(t){var e=Number(t.target.value),n=document.querySelector(".head__size");Z=e>99?99:e<10?10:e,t.target.value=Z,X=!0;var s=new k(Number(n.value),Z,X,!1).build();document.querySelector(".game__content").replaceWith(s),X=!1,this._setScore()}}],n&&Y(e.prototype,n),s&&Y(e,s),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Q(){document.querySelector(".head__sound").classList.contains("head__sound_off")?K.pause():(0===ot&&(K.src=F),1===ot&&(K.src=U),2===ot&&(K.src=H),3===ot&&(K.src=R),4===ot&&(K.src=D),K.autoplay=!0,K.currentTime=0,K.volume=.1,K.play())}var K=new Audio,X=!1,Z=Number(localStorage.getItem("mines"))||10,tt=Number(localStorage.getItem("fieldSize"))||10,et=JSON.parse(localStorage.getItem("score"))||[],nt=Number(localStorage.getItem("clicksCounter"))||0,st=Number(localStorage.getItem("secondsCounter"))||0,it=Number(localStorage.getItem("flags"))||0,ot=Number(localStorage.getItem("theme"))||0;window.addEventListener("DOMContentLoaded",(function(){(new G).build()}))})()})();